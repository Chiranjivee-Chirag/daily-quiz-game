<!DOCTYPE html>
<html>
<head>
  <title>Daily Quiz Challenge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f4f6f9;
      padding: 20px;
    }
    .quiz-box {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
      max-width: 400px;
      margin: auto;
    }
    button {
      padding: 10px 15px;
      margin: 5px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: #007bff;
      color: white;
    }
    button:hover {
      background: #0056b3;
    }
    #timer {
      font-weight: bold;
      margin: 10px;
      color: red;
    }
    #leaderboard {
      margin-top: 15px;
      text-align: left;
    }
    .ad-box {
      margin-top: 20px;
      padding: 10px;
      background: #eee;
      border-radius: 8px;
      font-size: 14px;
    }
  </style>
</head>
<body>

<div class="quiz-box">
  <h2>Daily Quiz Challenge</h2>

  <div id="start-screen">
    <p>Test your knowledge with our daily quiz!</p>
    <button onclick="startQuiz()">Start Quiz</button>
  </div>

  <div id="quiz-screen" style="display:none;">
    <div id="timer">Time Left: 10s</div>
    <p id="question"></p>
    <div id="options"></div>
    <p id="result"></p>
    <p id="score"></p>
    <button onclick="shareScore()" style="display:none;" id="shareBtn">Share Score</button>
    <div id="leaderboard"></div>
  </div>

  <!-- Future Ad Space -->
  <div class="ad-box">
    üî• Ad Space (Add Google AdSense Here Later)
  </div>

</div>

<audio id="correctSound" src="https://www.soundjay.com/buttons/sounds/button-3.mp3"></audio>
<audio id="wrongSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>

<script>
  let quiz = [
    { question: "Capital of Japan?", options: ["Tokyo","Seoul","Bangkok"], answer: "Tokyo" },
    { question: "2,4,8,16,?", options: ["32","24","20"], answer: "32" },
    { question: "Vitamin from sunlight?", options: ["A","C","D"], answer: "D" },
    { question: "HTML is used for?", options: ["Web structure","Cooking","Gaming"], answer: "Web structure" },
    { question: "60km/h for 2 hours?", options: ["120km","100km","140km"], answer: "120km" }
  ];

  let currentQuestion = 0;
  let score = 0;
  let timeLeft = 10;
  let timerInterval;

  function shuffleQuestions() {
    quiz.sort(() => Math.random() - 0.5);
  }

  function startQuiz() {
    shuffleQuestions();
    document.getElementById("start-screen").style.display = "none";
    document.getElementById("quiz-screen").style.display = "block";
    loadQuestion();
  }

  function startTimer() {
    timeLeft = 10;
    document.getElementById("timer").innerText = "Time Left: " + timeLeft + "s";
    timerInterval = setInterval(() => {
      timeLeft--;
      document.getElementById("timer").innerText = "Time Left: " + timeLeft + "s";
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        checkAnswer("");
      }
    },1000);
  }

  function loadQuestion() {
    const q = quiz[currentQuestion];
    document.getElementById("question").innerText = q.question;
    document.getElementById("options").innerHTML = "";
    document.getElementById("result").innerText = "";

    q.options.forEach(option => {
      const button = document.createElement("button");
      button.innerText = option;
      button.onclick = () => checkAnswer(option);
      document.getElementById("options").appendChild(button);
    });

    startTimer();
  }

  function checkAnswer(selected) {
    clearInterval(timerInterval);
    const correctAnswer = quiz[currentQuestion].answer;
    const buttons = document.querySelectorAll("#options button");

    buttons.forEach(btn => {
      btn.disabled = true;
      if (btn.innerText === correctAnswer) btn.style.backgroundColor = "green";
      if (btn.innerText === selected && selected !== correctAnswer)
        btn.style.backgroundColor = "red";
    });

    if (selected === correctAnswer) {
      score++;
      document.getElementById("correctSound").play();
      document.getElementById("result").innerText = "Correct!";
    } else {
      document.getElementById("wrongSound").play();
      document.getElementById("result").innerText =
        "Wrong! Correct Answer: " + correctAnswer;
    }

    currentQuestion++;

    if (currentQuestion < quiz.length) {
      setTimeout(loadQuestion,2000);
    } else {
      setTimeout(endQuiz,2000);
    }
  }

  function endQuiz() {
    document.getElementById("question").innerText = "Quiz Finished!";
    document.getElementById("options").innerHTML = "";
    document.getElementById("timer").innerText = "";
    document.getElementById("score").innerText =
      "Your Score: " + score + " / " + quiz.length;
    document.getElementById("shareBtn").style.display = "inline-block";
    saveScore(score);
    showLeaderboard();
  }

  function shareScore() {
    const text = "I scored " + score + " in Daily Quiz! Try it now!";
    const url = "https://wa.me/?text=" + encodeURIComponent(text);
    window.open(url, "_blank");
  }

  function saveScore(newScore) {
    let scores = JSON.parse(localStorage.getItem("quizScores")) || [];
    scores.push(newScore);
    scores.sort((a,b)=>b-a);
    scores = scores.slice(0,5);
    localStorage.setItem("quizScores", JSON.stringify(scores));
  }

  function showLeaderboard() {
    let scores = JSON.parse(localStorage.getItem("quizScores")) || [];
    let html = "<h3>üèÜ Top Scores</h3><ol>";
    scores.forEach(s => html += "<li>" + s + "</li>");
    html += "</ol>";
    document.getElementById("leaderboard").innerHTML = html;
  }
</script>

</body>
</html>
